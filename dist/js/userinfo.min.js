"use strict";$(function(){$("#myForm").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{realname:{validators:{notEmpty:{message:"姓名不能为空"}}},idcard:{validators:{notEmpty:{message:"身份证号不能为空"},stringLength:{min:18,max:18,message:"身份证号长度必须18位"}}},phone:{validators:{notEmpty:{message:"手机号码不能为空"},regexp:{regexp:/^1\d{10}$/,message:"请输入正确的手机号码"}}},tel:{validators:{notEmpty:{message:"联系电话不能为空"},regexp:{regexp:/^(0[0-9]{2,3}\-)([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/,message:"请输入正确的联系电话"}}},income:{validators:{notEmpty:{message:"收入不能为空"},regexp:{regexp:/^\d+$/,message:"请输入数字类型的值"}}},address:{validators:{notEmpty:{message:"地址不能为空"}}}}}).on("success.form.bv",function(e){e.preventDefault();var a=$(e.target),s=(a.data("bootstrapValidator"),a.serialize());$.post("./api/update.php",s,function(e){console.log(e),e.isSuccess?(alert(e.message),location.href="./personal.php?muneId=3"):alert(e.message)},"json")})});