"use strict";$(function(){$("#reForm").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"用户名验证失败",validators:{notEmpty:{message:"用户名不能为空"},stringLength:{min:6,max:12,message:"用户名长度必须在6到12位之间"}}},password:{message:"密码验证失败",validators:{notEmpty:{message:"密码不能为空"},stringLength:{min:6,max:18,message:"密码长度必须在6到18位之间"}}},checkPassword:{message:"密码验证失败",validators:{notEmpty:{message:"密码不能为空"},identical:{field:"password",message:"两次密码输入不一致"}}},email:{message:"邮箱验证失败",validators:{emailAddress:{message:"请输入正确的email地址"},notEmpty:{message:"邮箱不能为空"}}},phone:{message:"电话验证失败",validators:{notEmpty:{message:"电话不能为空"},regexp:{regexp:/^1\d{10}$/,message:"请输入正确的电话号码"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target),a=(s.data("bootstrapValidator"),s.serialize());$.post("./api/userAdd.php",a,function(e){e.isSuccess?(alert(e.message),location.href="./login.php"):alert(e.message)},"json")}),$("#LOGForm").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{validators:{notEmpty:{message:"用户名不能为空"},stringLength:{min:6,max:12,message:"用户名长度必须在6到12位之间"}}},password:{validators:{notEmpty:{message:"密码不能为空"},stringLength:{min:6,max:18,message:"密码长度必须在6到18位之间"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target),a=(s.data("bootstrapValidator"),s.serialize());$.post("./api/logincheck.php",a,function(e){if(console.log(e),e.isSuccess){$("#myModalTitle").text(e.message),$("#myModalContent").html('<i class="glyphicon glyphicon-ok"></i> '.concat(e.message,' 等待<span id="num">5</span>秒后跳转页面'));var s=5,a=setInterval(function(){s--,$("#num").text(s),0==s&&(clearInterval(a),location.href="./personal.php?muneId=3")},1e3)}else $("#myModalTitle").text(e.message),$("#myModalContent").html('<i class="glyphicon glyphicon-remove"></i>'.concat(e.message));$("#myModal").modal("show")},"json")}),$("#goPersonal").on("click",function(){location.href="./personal.php?muneId=3"})});